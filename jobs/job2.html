<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="jobmain.css">
  <!-- Include stylesheet -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:700" rel="stylesheet">
</head>

<body>


  <div class="content">
    <div class="title">
      <h3>QUEST: Cargo ship falling into disarray</h3>
    </div>
    <div class="text">
      <p>
        As you fly past a massive black hole, you spot a large cargo ship slowing being pulled in. You travel towards the ship and see it that it's also being attacked by pirates!
        <br><br>
        Incoming transmission: "Help! We are on a humanitarian aid mission. Bravo colony was damaged from solar winds and needs the food we have on our ship. These pirates are trying to steal our food. We are trying our best to fight off the pirates
        but I'm afraid we will be sucked into this black hole with our cargo. Please help us!‚Äù
        <br><br>
        <h3>Now this is interesting, how will you manage this? <br><br><br>
          Inorder to get this solution working, reference all of the following variables:</h3>
      </p>

      <h4>BLACK_HOLE</h4>
      <h4>PIRATES</h4>
      <h4>BRAVO_COLONY</h4>
      <h4>CARGO_SHIP</h4>
      <h4>FOOD_AID</h4>
    </div>
  </div>
  <div class="content">
    <h3>Code your solution here</h3>
    <p>Use all the given elements.</p>
    <div id="editor">

    </div>
    <button type="button" name="sumbit" onclick="compileCode()">submit</button>
  </div>

  <!-- Include the Quill library -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

  <!-- Initialize Quill editor -->
  <script>
    var quill = new Quill('#editor', {
      modules: {
        toolbar: false // Snow includes toolbar by default
      },
      placeholder: 'This may look challenging but don\'t let that stop you.',
      theme: 'snow'
    });

    var KeyWords = ["BLACK_HOLE", "PIRATES", "BRAVO_COLONY",
                    "CARGO_SHIP", "FOOD_AID"];
    var ErrorList = [];

    function getCode() {
      return quill.getText(0, quill.getLength());
    }

    function hasKeyWords(text, keywords) {
      var keywordCount = 0;
      for (k = 0; k < keywords.length; k++) {
        if (text.toUpperCase().includes(keywords[k]))
        {
          keywordCount++;
        }
        else {
          ErrorList.push(keywords[k]);
        }
      }

      if (keywordCount == keywords.length) return true;
      else return false;
    }

    function compileCode() {
      var text = getCode();
      if (hasKeyWords(text, KeyWords)) {
        alert("Success! You're amazing");
        setTimeout(function() {document.location.href = "../space.html"},1000);
      } else {
          alert("Compiler Error: Couldn't find the following -> [ " + ErrorList + "]");
          ErrorList = [];
      }
    }
  </script>

</body>

</html>
