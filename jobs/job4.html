<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="jobmain.css">
  <!-- Include stylesheet -->
  <link href="lib\quill-1.3.6\themes\snow.js" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:700" rel="stylesheet">
</head>

<body>


<div class="content">
  <div class="title">
    <h3>QUEST: Colonial revolution of independence</h3>
  </div>
  <div class="text">


      <p>
        You're flying in your rusty worn out ship through the bright skies of planet Charlie. Below you is a war between the rebel colonist, who trying to seize independence, verses the imperial garrison. The rebels must penetrate through the defensive outer walls before they can break through the looming imperial fortress. The fortress is equipped with anti-air guns.
        <br><br>
        Your ship has one highly explosive bomb.
        <br><br>
        <h3>Now this is getting exciting! <br><br><br>
        To make a difference, use these keywords: </h3>
      </p>

      <h4>REBELS</h4>
      <h4>REBEL_BASE</h4>
      <h4>IMPERIAL_SOLIDERS</h4>
      <h4>DEF_WALL</h4>
      <h4>MAIN_FORT</h4>
      <h4>AA_GUNS</h4>
      <h4>BOMB</h4>
      <h4>RUSTY_SHIP</h4>
    </div>
</div>

  <div class="content">
    <h3>Code your solution here</h3>
    <p>Use all the given elements.</p>
    <div id="editor">

    </div>
    <button type="button" name="sumbit" onclick="compileCode()">submit</button>
  </div>

  <!-- Include the Quill library -->
  <script src="lib\quill-1.3.6\quill.js"></script>

  <!-- Initialize Quill editor -->
  <script>
    var quill = new Quill('#editor', {
      modules: {
        toolbar: false // Snow includes toolbar by default
      },
      placeholder: 'What will you do?',
      theme: 'snow'
    });

    var KeyWords = ["REBELS", "REBEL_BASE", "IMPERIAL_SOLIDERS",
                    "IMPERIAL_SOLIDERS", "DEF_WALL", "MAIN_FORT",
                    "AA_GUNS", "BOMB", "RUSTY_SHIP"];
    var ErrorList = [];

    function getCode() {
      return quill.getText(0, quill.getLength());
    }

    function hasKeyWords(text, keywords) {
      var keywordCount = 0;
      for (k = 0; k < keywords.length; k++) {
        if (text.toUpperCase().includes(keywords[k])) keywordCount++;
        else ErrorList.push(keywords[k]);
      }

      if (keywordCount == keywords.length) return true;
      else return false;
    }

    function compileCode() {
      var text = getCode();
      if (hasKeyWords(text, KeyWords)) {
        alert("Success! You're amazing");
        setTimeout(function() {document.location.href = "../space.html"},1000);
      } else {
        alert("Compiler Error: Couldn't find the following -> [ " + ErrorList + "]");
        ErrorList = [];
      }
    }
  </script>

</body>

</html>
