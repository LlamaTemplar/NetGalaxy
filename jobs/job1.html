<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="jobmain.css">
  <!-- Include stylesheet -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:700" rel="stylesheet">
</head>

<body>


  <div class="content">
    <div class="title">
      <h3>QUEST: Engine isn't working</h3>
    </div>
    <div class="text">
      <p>As you travel through the net waves, you stumble across a lone ship. Upon a closer look, it appears to be a damaged merchant ship. You see a figure in a space suit trying their best to repair the ship. The space around is dark and lonely,
        so you decide to see if the person needs help.
        <br><br>
        Space Suit Guy: “Blasters! I didn’t think anyone would find me here. I’m in desperate need of help. An asteroid hit my ship and damaged my engine. Not only that but the engine got detached from the main connector so I have no way of
        controlling it. I also fear that there may be space goblins lurking around and my turret sensor got damaged as well. I’m just a setting duck here! Will you help me?”
        <br><br>
        <h3>Great! This is your chance to shine! <br><br><br>
        Figure how to get the ship up and running by fixing these items: </h3>
      </p>
      <h4>ENGINE</h4>
      <h4>REAR_SENSOR</h4>
      <h4>MAIN_CONNECTOR</h4>
    </div>
  </div>
  <div class="content">
    <h3>Code your solution here</h3>
    <p>Use all the given elements.</p>
    <div id="editor">

    </div>
    <button type="button" name="sumbit" onclick="compileCode()">submit</button>
  </div>

  <!-- Include the Quill library -->
  <script src="lib\quill-1.3.6\quill.js"></script>

  <!-- Initialize Quill editor -->
  <script>
    var quill = new Quill('#editor', {
      modules: {
        toolbar: false // Snow includes toolbar by default
      },
      placeholder: 'Go ahead, come up with something clever. You got this!',
      theme: 'snow'
    });

    var KeyWords = ["ENGINE", "REAR_SENSOR", "MAIN_CONNECTOR"];
    var ErrorList = [];

    function getCode() {
      return quill.getText(0, quill.getLength());
    }

    function hasKeyWords(text, keywords) {
      var keywordCount = 0;
      for (k = 0; k < keywords.length; k++) {
        if (text.toUpperCase().includes(keywords[k])) keywordCount++;
        else ErrorList.push(keywords[k]);
      }
      if (keywordCount == keywords.length) return true;
      else return false;
    }

    function compileCode() {
      var text = getCode();
      if (hasKeyWords(text, KeyWords)) {
        alert("Success! You're amazing");
        setTimeout(function() {document.location.href = "../space.html"},1000);
      } else {
        alert("Compiler Error: Couldn't find the following -> [ " + ErrorList + "]");
        ErrorList = [];
      }
    }
  </script>

</body>

</html>
