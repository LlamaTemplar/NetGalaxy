<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="jobmain.css">
  <!-- Include stylesheet -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:700" rel="stylesheet">
</head>

<body>


  <div class="content">
    <div class="title">
        <h3>QUEST: Alien infection at colony</h3>
    </div>
    <div class="text">
      <p>
        Incoming transmission: "There have been reports of an alien infection
        that has spread through Gamma colony. The people have turned into
        mutant creatures and will kill you on site. Do not go to Gamma colony."
        <br><br>
        Incoming transmission: "We've received a report that a group of
        colonists are stuck in a medical lab at Gamma colony. They are running
        low on supplies."
        <br><br>
        Incoming transmission: "Reports tell us that infected mutant wolves have
        been seen roaming near Gamma colony. The wolves appear to be attacking
        anything that moves, including the infected colonists."

        <h3>Well this is weird but it's a perfect opportunity to save some people. <br><br><br>
          To successfully save the colonist, make the following references: </h3>
      </p>

      <h4>INFECTED_COLONIST</h4>
      <h4>GAMMA_COLONY</h4>
      <h4>MUTANT_WOLVES</h4>
      <h4>MED_LAB</h4>
      <h4>LAB_SUPPLIES</h4>
      <h4>LASER_RIFLE</h4>
    </div>
  </div>
  <div class="content">
    <h3>Code your solution here</h3>
    <p>Use all the given elements.</p>
    <div id="editor">

    </div>
    <button type="button" name="sumbit" onclick="compileCode()">submit</button>
  </div>

  <!-- Include the Quill library -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

  <!-- Initialize Quill editor -->
  <script>
    var quill = new Quill('#editor', {
      modules: {
        toolbar: false // Snow includes toolbar by default
      },
      placeholder: 'These people really need your help, don\'t be afraid',
      theme: 'snow'
    });

    var KeyWords = ["INFECTED_COLONIST", "GAMMA_COLONY", "MUTANT_WOLVES",
                    "MED_LAB", "LAB_SUPPLIES", "LASER_RIFLE"];

    var ErrorList = [];

    function getCode() {
      return quill.getText(0, quill.getLength());
    }

    function hasKeyWords(text, keywords) {
      var keywordCount = 0;
      for (k = 0; k < keywords.length; k++) {
        if (text.toUpperCase().includes(keywords[k])) keywordCount++;
        else ErrorList.push(keywords[k]);
      }

      if (keywordCount == keywords.length) return true;
      else return false;
    }

    function compileCode() {
      var text = getCode();
      if (hasKeyWords(text, KeyWords)) {
        alert("Success! You're amazing");
        setTimeout(function() {document.location.href = "../space.html"},1000);
      } else {
          alert("Compiler Error: Couldn't find the following -> [ " + ErrorList + "]");
          ErrorList = [];
      }
    }
  </script>

</body>

</html>
